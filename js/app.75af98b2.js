(function(e){function t(t){for(var n,r,c=t[0],i=t[1],u=t[2],l=0,d=[];l<c.length;l++)r=c[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,r=1;r<a.length;r++){var c=a[r];0!==o[c]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={app:0},o={app:0},s=[];function c(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-0223714b":"cde6c7fa","chunk-2d0bae8d":"d8e4bc3a","chunk-3d3f0bae":"31675130","chunk-6f06c533":"e0672231"}[e]+".js"}function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(e){var t=[],a={"chunk-0223714b":1,"chunk-3d3f0bae":1,"chunk-6f06c533":1};r[e]?t.push(r[e]):0!==r[e]&&a[e]&&t.push(r[e]=new Promise((function(t,a){for(var n="css/"+({}[e]||e)+"."+{"chunk-0223714b":"baf1fbc8","chunk-2d0bae8d":"31d6cfe0","chunk-3d3f0bae":"ba320898","chunk-6f06c533":"d175ab66"}[e]+".css",o=i.p+n,s=document.getElementsByTagName("link"),c=0;c<s.length;c++){var u=s[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===o))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===n||l===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var n=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete r[e],p.parentNode.removeChild(p),a(s)},p.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){r[e]=0})));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise((function(t,a){n=o[e]=[t,a]}));t.push(n[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=c(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(p);var a=o[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",d.name="ChunkLoadError",d.type=n,d.request=r,a[1](d)}o[e]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var p=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"030e":function(e,t,a){},"365c":function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return s})),a.d(t,"d",(function(){return c})),a.d(t,"e",(function(){return i})),a.d(t,"a",(function(){return u}));const n=a("bc3a"),r=n.create({baseURL:"https://mallapi.duyiedu.com/goods",params:{appkey:"loveEDG_1670229509744"}}),o=async e=>{const t=await r.get("/getsidebar",{params:e});return t},s=async(e,t,a,n)=>{const o=await r.get("/getGoodsList",{params:{type:e,page:t,size:a,sort:n}});return o},c=async e=>{const t=await r.get("/likeSearch",{params:{likeValue:e}});return t},i=async(e,t,a)=>{const n=await r.get("/search",{params:{type:e,page:t,size:a}});return n},u=async e=>{const t=await r.get("/getGoodsByIds",{params:{value:e}});return t}},"56d7":function(e,t,a){"use strict";a.r(t);var n=a("2b0e"),r=a("b970"),o=(a("157a"),function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("transition",{attrs:{name:e.transitionName}},[t("router-view",{staticClass:"router"})],1)],1)}),s=[],c={data(){return{transitionName:"slide-right"}},created(){const e=JSON.parse(localStorage.getItem("goods"))||{};this.$store.commit("setCounterMap",e)},watch:{$route(){const{level:e}=this.$route.meta;this.transitionName=1===e?"slide-right":"slide-left"}}},i=c,u=(a("e6c3"),a("2877")),l=Object(u["a"])(i,o,s,!1,null,null,null),d=l.exports,p=a("8c4f"),f=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home"},[t("router-view"),t("Tabbar")],1)},h=[],m=function(){var e=this,t=e._self._c;return t("van-tabbar",{attrs:{route:"",border:"",fixed:""},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[t("van-tabbar-item",{attrs:{icon:"home-o",to:"/home"}},[e._v("首页")]),t("van-tabbar-item",{attrs:{icon:"apps-o",to:"/classify"}},[e._v("分类")]),t("van-tabbar-item",{attrs:{icon:"shopping-cart-o",to:"/shopping",badge:e.badge,id:"shop-car"}},[e._v("购物车")]),t("van-tabbar-item",{attrs:{icon:"user-circle-o",to:"/home"}},[e._v("我的")])],1)},b=[],v=(a("13d5"),a("2f62")),g={data(){return{active:0}},computed:{...Object(v["b"])(["counterMap"]),badge(){let e=Object.values(this.counterMap);return 0===e.length?0:(e=e.reduce((e,t)=>e+t),e)}}},y=g,w=Object(u["a"])(y,m,b,!1,null,null,null),k=w.exports,S={name:"Home",components:{Tabbar:k}},_=S,O=Object(u["a"])(_,f,h,!1,null,"60655e3c",null),L=O.exports;n["a"].use(p["a"]);const M=[{path:"/",name:"Home",component:L,redirect:"/classify",meta:{level:1},children:[{path:"classify",name:"Classify",meta:{level:1},component:()=>a.e("chunk-6f06c533").then(a.bind(null,"643d"))},{path:"shopping",name:"Shopping",meta:{level:1},component:()=>a.e("chunk-0223714b").then(a.bind(null,"fdaa"))}]},{path:"/self",name:"Self",component:()=>a.e("chunk-2d0bae8d").then(a.bind(null,"38e7"))},{path:"/search",meta:{level:2},name:"Search",component:()=>a.e("chunk-3d3f0bae").then(a.bind(null,"4e22"))},{path:"*",redirect:"/classify"}],j=new p["a"]({routes:M});var T=j,x=a("d399"),C=a("365c");n["a"].use(v["a"]),n["a"].use(x["a"]);var E=new v["a"].Store({state:{sidebar:[],show:!1,goodsList:[],size:7,sortType:"all",total:0,counterMap:{}},mutations:{saveLocalStorage(e,{id:t,value:a}){e.counterMap[t]?1===e.counterMap[t]&&-1===a||a===-1/0?n["a"].delete(e.counterMap,t):n["a"].set(e.counterMap,t,e.counterMap[t]+a):n["a"].set(e.counterMap,t,1),localStorage.setItem("goods",JSON.stringify(e.counterMap))},setCounterMap(e,t){e.counterMap=t},setSidebar(e,t){e.sidebar=t},setShow(e,t){e.show=t},setGoodsList(e,t){e.goodsList=e.goodsList.concat(t)},resetGoodsList(e){e.goodsList=[]},setType(e,t){e.type=t},setTotal(e,t){e.total=t}},actions:{async setSidebar(e,t){e.commit("setShow",!1);let a=await C["c"](t);a=a.data,e.commit("setSidebar",a),e.commit("resetGoodsList"),e.commit("setShow",!0)},async setGoodsList(e,t){const{page:a}=t;let n="";t.type?(n=t.type,e.commit("setType",n)):n=e.state.type;const r=t.size||e.state.size,o=t.sort||e.state.sortType,s=await C["b"](n,a,r,o);e.commit("setGoodsList",s.data.list),e.commit("setTotal",s.data.total)}},modules:{}});a("5cfb");n["a"].use(r["a"]),n["a"].config.productionTip=!1,new n["a"]({router:T,store:E,render:e=>e(d)}).$mount("#app")},e6c3:function(e,t,a){"use strict";a("030e")}});
//# sourceMappingURL=app.75af98b2.js.map