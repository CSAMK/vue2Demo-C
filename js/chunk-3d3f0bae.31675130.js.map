{"version":3,"sources":["webpack:///./node_modules/core-js/internals/delete-property-or-throw.js","webpack:///./src/tools/animate/index.vue?e8ed","webpack:///./src/components/Card.vue?5140","webpack:///./node_modules/core-js/modules/es.array.unshift.js","webpack:///./src/views/search.vue","webpack:///./src/components/History.vue","webpack:///src/components/History.vue","webpack:///./src/components/History.vue?fc9a","webpack:///./src/components/History.vue?1579","webpack:///src/views/search.vue","webpack:///./src/views/search.vue?c286","webpack:///./src/views/search.vue?823c","webpack:///./src/components/Card.vue","webpack:///./src/tools/animate/index.vue","webpack:///src/tools/animate/index.vue","webpack:///./src/tools/animate/index.vue?021a","webpack:///./src/tools/animate/index.vue?098f","webpack:///./src/tools/animate/index.js","webpack:///src/components/Card.vue","webpack:///./src/components/Card.vue?fd54","webpack:///./src/components/Card.vue?4322","webpack:///./src/views/search.vue?c518","webpack:///./src/components/History.vue?f784"],"names":["tryToString","$TypeError","TypeError","module","exports","O","P","$","toObject","lengthOfArrayLike","setArrayLength","deletePropertyOrThrow","doesNotExceedSafeInteger","INCORRECT_RESULT","unshift","SILENT_ON_NON_WRITABLE_LENGTH","Object","defineProperty","writable","error","target","proto","arity","forced","item","this","len","argCount","arguments","length","k","to","j","render","_vm","_c","_self","attrs","staticClass","on","goHome","placeholder","onSearch","onCancel","onInput","scopedSlots","_u","key","fn","showGoodsList","badge","goCar","_v","proxy","model","value","callback","$$v","expression","finished","onLoad","loading","_l","goodsList","index","likeSearchList","$event","domProps","_s","formatHTML","directives","name","rawName","historyList","staticRenderFns","search","props","default","methods","component","components","Card","History","computed","count","data","timer","page","size","total","searchValue","resetData","clearTimeout","saveLocalStorage","result","time","localStorage","created","ref","images","title","desc","tags","price","counterMap","id","countNum","_e","exist","style","width","height","opacity","transform","moveX","moveY","sx","sy","src","Animate","Vue","extend","com","startX","startY","endX","endY","app","el","document","createElement","body","appendChild","$el","setTimeout","left","top","offsetWidth","offsetHeight"],"mappings":"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","file":"js/chunk-3d3f0bae.31675130.js","sourcesContent":["'use strict';\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (O, P) {\n  if (!delete O[P]) throw $TypeError('Cannot delete property ' + tryToString(P) + ' of ' + tryToString(O));\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=f8e6bbe8&prod&scoped=true&lang=less&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=style&index=0&id=633416f0&prod&lang=less&\"","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar setArrayLength = require('../internals/array-set-length');\nvar deletePropertyOrThrow = require('../internals/delete-property-or-throw');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\n\n// IE8-\nvar INCORRECT_RESULT = [].unshift(0) !== 1;\n\n// V8 ~ Chrome < 71 and Safari <= 15.4, FF < 23 throws InternalError\nvar SILENT_ON_NON_WRITABLE_LENGTH = !function () {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).unshift();\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n}();\n\n// `Array.prototype.unshift` method\n// https://tc39.es/ecma262/#sec-array.prototype.unshift\n$({ target: 'Array', proto: true, arity: 1, forced: INCORRECT_RESULT || SILENT_ON_NON_WRITABLE_LENGTH }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  unshift: function unshift(item) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var argCount = arguments.length;\n    if (argCount) {\n      doesNotExceedSafeInteger(len + argCount);\n      var k = len;\n      while (k--) {\n        var to = k + argCount;\n        if (k in O) O[to] = O[k];\n        else deletePropertyOrThrow(O, to);\n      }\n      for (var j = 0; j < argCount; j++) {\n        O[j] = arguments[j];\n      }\n    } return setArrayLength(O, len + argCount);\n  }\n});\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"search\"}},[_c('div',{staticClass:\"search-header\"},[_c('van-icon',{staticClass:\"arrLeft\",attrs:{\"name\":\"arrow-left\"},on:{\"click\":_vm.goHome}}),_c('div',{staticClass:\"search-header-vant\"},[_c('van-search',{attrs:{\"show-action\":\"\",\"placeholder\":_vm.placeholder},on:{\"search\":_vm.onSearch,\"cancel\":_vm.onCancel,\"input\":_vm.onInput},scopedSlots:_vm._u([{key:\"action\",fn:function(){return [(_vm.showGoodsList)?_c('van-icon',{staticClass:\"top-car\",attrs:{\"name\":\"shopping-cart-o\",\"badge\":_vm.badge,\"size\":\"30\",\"id\":\"shop-car\"},on:{\"click\":_vm.goCar}}):_c('div',{on:{\"click\":_vm.onSearch}},[_vm._v(\"搜索\")])]},proxy:true}]),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1)],1),[(!_vm.showGoodsList)?_c('div',{staticClass:\"likeSearch\"},[_c('van-list',_vm._l((_vm.likeSearchList),function(item,index){return _c('van-cell',{key:index,attrs:{\"title\":item},on:{\"click\":function($event){return _vm.onSearch(item)}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.formatHTML(item))}})]},proxy:true}],null,true)})}),1)],1):_c('div',{staticClass:\"goodsList\"},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\",\"immediate-check\":true},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_vm._l((_vm.goodsList),function(item,index){return [_c('Card',{key:index,attrs:{\"data\":item}})]})],2)],1)],_c('div',{staticClass:\"history\"},[_c('History',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showGoodsList && _vm.likeSearchList.length <= 0),expression:\"!showGoodsList && likeSearchList.length <= 0\"}],attrs:{\"historyList\":_vm.historyList},on:{\"search\":_vm.onSearch}})],1)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"history\"}},[_c('h4',[_vm._v(\"历史记录：\")]),_vm._l((_vm.historyList),function(item,index){return _c('div',{key:index,staticClass:\"item\",on:{\"click\":function($event){return _vm.search(item.value)}}},[_vm._v(\" \"+_vm._s(item.value)+\" \")])})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 展示历史记录\n<template>\n  <div id=\"history\">\n    <h4>历史记录：</h4>\n    <div\n      class=\"item\"\n      v-for=\"(item, index) in historyList\"\n      :key=\"index\"\n      @click=\"search(item.value)\"\n    >\n      {{ item.value }}\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    historyList: {\n      default() {\n        return [];\n      },\n    },\n  },\n  methods: {\n    search(val) {\n      this.$emit('search', val);\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n#history {\n  .item {\n    padding: 15px;\n    background: #eee;\n    border-radius: 10px;\n    margin-left: 10px;\n    margin-bottom: 10px;\n    display: inline-block;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./History.vue?vue&type=template&id=29b162de&scoped=true&\"\nimport script from \"./History.vue?vue&type=script&lang=js&\"\nexport * from \"./History.vue?vue&type=script&lang=js&\"\nimport style0 from \"./History.vue?vue&type=style&index=0&id=29b162de&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29b162de\",\n  null\n  \n)\n\nexport default component.exports","// 搜索页面\n<template>\n  <div id=\"search\">\n    <div class=\"search-header\">\n      <van-icon name=\"arrow-left\" class=\"arrLeft\" @click=\"goHome\" />\n      <div class=\"search-header-vant\">\n        <van-search\n          v-model=\"value\"\n          show-action\n          :placeholder=\"placeholder\"\n          @search=\"onSearch\"\n          @cancel=\"onCancel\"\n          @input=\"onInput\"\n        >\n          <template #action>\n            <van-icon\n              name=\"shopping-cart-o\"\n              v-if=\"showGoodsList\"\n              :badge=\"badge\"\n              size=\"30\"\n              class=\"top-car\"\n              id=\"shop-car\"\n              @click=\"goCar\"\n            />\n            <div @click=\"onSearch\" v-else>搜索</div>\n          </template>\n        </van-search>\n      </div>\n    </div>\n\n    <template>\n      <!-- 模糊搜索 -->\n      <div class=\"likeSearch\" v-if=\"!showGoodsList\">\n        <van-list>\n          <van-cell\n            v-for=\"(item, index) in likeSearchList\"\n            :key=\"index\"\n            :title=\"item\"\n            @click=\"onSearch(item)\"\n          >\n            <template #title>\n              <span v-html=\"formatHTML(item)\"></span>\n            </template>\n          </van-cell>\n        </van-list>\n      </div>\n\n      <div class=\"goodsList\" v-else>\n        <van-list\n          v-model=\"loading\"\n          :finished=\"finished\"\n          finished-text=\"没有更多了\"\n          @load=\"onLoad\"\n          :immediate-check=\"true\"\n        >\n          <template v-for=\"(item, index) in goodsList\">\n            <Card :key=\"index\" :data=\"item\" />\n          </template>\n        </van-list>\n      </div>\n    </template>\n\n    <div class=\"history\">\n      <History\n        v-show=\"!showGoodsList && likeSearchList.length <= 0\"\n        :historyList=\"historyList\"\n        @search=\"onSearch\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as API from '@/api/index';\nimport Card from '@/components/Card.vue';\nimport { mapState } from 'vuex';\nimport History from '@/components/History.vue';\n\nexport default {\n  components: {\n    Card,\n    History,\n  },\n  computed: {\n    ...mapState(['counterMap']),\n    badge() {\n      let count = Object.values(this.counterMap);\n      // console.log(count);\n      if (count.length === 0) {\n        return 0;\n      }\n      count = count.reduce((preNum, curNum) => preNum + curNum);\n      // console.log(count);\n      return count;\n    },\n  },\n  data() {\n    return {\n      value: '',\n      placeholder: '苹果',\n      timer: null,\n      likeSearchList: [],\n      loading: false,\n      finished: true,\n      goodsList: [],\n      showGoodsList: false,\n      page: 1,\n      size: 5,\n      total: 0,\n      searchValue: '',\n      historyList: [],\n    };\n  },\n  methods: {\n    goCar() {\n      this.$router.push('/shopping');\n    },\n    goHome() {\n      this.$router.push('/classify');\n    },\n    resetData() {\n      this.likeSearchList = [];\n      this.goodsList = [];\n      this.page = 1;\n      this.total = 0;\n      this.finished = false;\n      this.showGoodsList = false;\n      this.value = '';\n    },\n    async getGoodsList() {\n      this.loading = true;\n      const res = await API.search(this.value, this.page, this.size);\n      // console.log(res);\n      this.loading = false;\n      this.goodsList = this.goodsList.concat([...res.data.list]);\n      this.total = res.data.total;\n\n      if (this.total === this.goodsList.length) {\n        this.finished = true;\n      } else {\n        this.finished = false;\n      }\n    },\n    onLoad() {\n      // console.log('onLoad');\n\n      this.page += 1;\n\n      this.getGoodsList();\n    },\n    onSearch(val) {\n      this.resetData();\n      this.showGoodsList = true;\n\n      // this.searchValue = val || this.placeholder;\n      this.value = val || this.placeholder;\n      this.saveLocalStorage(this.value);\n      this.getGoodsList();\n    },\n    onCancel() {},\n    onInput() {\n      // console.log(this.value);\n      if (this.value === '') {\n        this.resetData();\n        return;\n      }\n      if (this.showGoodsList) {\n        return;\n      }\n      if (this.timer) {\n        clearTimeout(this.timer);\n        this.timer = null;\n      }\n      this.timer = setTimeout(async () => {\n        const res = await API.likeSearch(this.value);\n        // console.log(res);\n        this.likeSearchList = res.data.result;\n        clearTimeout(this.timer);\n        this.timer = null;\n      }, 300);\n    },\n    formatHTML(html) {\n      const reg = new RegExp(this.value, 'g');\n      return html.replace(reg, this.value.fontcolor('red'));\n    },\n    saveLocalStorage(val) {\n      const result = this.historyList.find((item) => item.value === val);\n\n      if (result) {\n        result.time = new Date().getTime();\n        this.historyList.sort((a, b) => b.time - a.time);\n      } else {\n        this.historyList.unshift({\n          time: new Date().getTime(),\n          value: val,\n        });\n      }\n\n      localStorage.setItem('searchHistory', JSON.stringify(this.historyList));\n    },\n  },\n  created() {\n    const historyList = JSON.parse(localStorage.getItem('searchHistory')) || [];\n    // console.log(historyList);\n    this.historyList = historyList;\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n@import url(\"~@/assets/css/search.less\");\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./search.vue?vue&type=template&id=79ef76cf&scoped=true&\"\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&id=79ef76cf&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79ef76cf\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"card\"}},[_c('div',{staticClass:\"card-img\"},[_c('img',{ref:\"img\",attrs:{\"src\":_vm.data.images[0]}})]),_c('div',{staticClass:\"card-content\"},[_c('div',{staticClass:\"title van-ellipsis\"},[_vm._v(_vm._s(_vm.data.title))]),_c('div',{staticClass:\"desc van-ellipsis\"},[_vm._v(_vm._s(_vm.data.desc))]),_c('div',{staticClass:\"tags van-ellipsis\"},_vm._l((_vm.data.tags),function(item,index){return _c('div',{key:index,staticClass:\"tags-item\"},[_vm._v(\" \"+_vm._s(item)+\" \")])}),0),_c('div',{staticClass:\"price\"},[_vm._v(\"￥\"+_vm._s(_vm.data.price))]),_c('div',{staticClass:\"count\"},[(_vm.counterMap[_vm.data.id])?_c('div',{on:{\"click\":function($event){return _vm.countNum(-1)}}},[_c('img',{attrs:{\"src\":\"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/rec.png\",\"alt\":\"\"}})]):_vm._e(),(_vm.counterMap[_vm.data.id])?_c('div',{staticClass:\"num\"},[_vm._v(\" \"+_vm._s(_vm.counterMap[_vm.data.id])+\" \")]):_vm._e(),_c('div',{on:{\"click\":function($event){return _vm.countNum(1)}}},[_c('img',{attrs:{\"src\":\"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/add.png\",\"alt\":\"\"}})])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.exist)?_c('div',{style:({\n    width: `${_vm.width}px`,\n    height: `${_vm.height}px`,\n    opacity: _vm.opacity,\n    transform: `translate(${_vm.moveX}px, ${_vm.moveY}px) scale(${_vm.sx},${_vm.sy})`,\n  }),attrs:{\"id\":\"item\"}},[_c('img',{attrs:{\"src\":_vm.src,\"alt\":\"\"}})]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    id=\"item\"\n    :style=\"{\n      width: `${width}px`,\n      height: `${height}px`,\n      opacity,\n      transform: `translate(${moveX}px, ${moveY}px) scale(${sx},${sy})`,\n    }\"\n    v-if=\"exist\"\n  >\n    <img :src=\"src\" alt=\"\" />\n  </div>\n</template>\n\n<script>\nexport default {};\n</script>\n\n<style scoped lang=\"less\">\n#item {\n  position: fixed;\n  z-index: 100;\n  top: 0;\n  left: 0;\n  transition: all 0.7s;\n  transform-origin: 0% 0%;\n\n  img {\n    width: 100%;\n    border-radius: 50%;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=f8e6bbe8&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=f8e6bbe8&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f8e6bbe8\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport com from './index.vue';\n\nconst Animate = Vue.extend(com);\n\nexport default function ({\n  startX,\n  startY,\n  endX,\n  endY,\n  src,\n  width,\n  height,\n}) {\n  const app = new Animate({\n    el: document.createElement('div'),\n    data() {\n      return {\n        moveX: startX,\n        moveY: startY,\n        sx: 1,\n        sy: 1,\n        opacity: 1,\n        exist: true, // 用来判断是否展示的，方便后面来销毁组件\n        src,\n        width,\n        height,\n      };\n    },\n  });\n\n  // 插入到全局 DOM 中\n  document.body.appendChild(app.$el);\n\n  // 用于变化样式\n  setTimeout(() => {\n    app.moveX = endX;\n    app.moveY = endY;\n    app.sx = 0.1;\n    app.sy = 0.1;\n    app.opacity = 0;\n  }, 0);\n\n  // 销毁组件\n  setTimeout(() => {\n    app.exist = false;\n  }, 1100);\n}\n","// 商品卡片组件\n<template>\n  <div id=\"card\">\n    <div class=\"card-img\">\n      <img :src=\"data.images[0]\" ref=\"img\" />\n    </div>\n    <div class=\"card-content\">\n      <div class=\"title van-ellipsis\">{{ data.title }}</div>\n      <div class=\"desc van-ellipsis\">{{ data.desc }}</div>\n      <div class=\"tags van-ellipsis\">\n        <div class=\"tags-item\" v-for=\"(item, index) in data.tags\" :key=\"index\">\n          {{ item }}\n        </div>\n      </div>\n      <div class=\"price\">￥{{ data.price }}</div>\n      <div class=\"count\">\n        <div @click=\"countNum(-1)\" v-if=\"counterMap[data.id]\">\n          <img\n            src=\"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/rec.png\"\n            alt=\"\"\n          />\n        </div>\n        <div class=\"num\" v-if=\"counterMap[data.id]\">\n          {{ counterMap[data.id] }}\n        </div>\n        <div @click=\"countNum(1)\">\n          <img\n            src=\"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/add.png\"\n            alt=\"\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport Animate from '@/tools/animate/index';\n\nexport default {\n  props: ['data', 'noFly', 'needNum'],\n  data() {\n    return {};\n  },\n  computed: {\n    ...mapState(['counterMap']),\n  },\n  created() {\n    // console.log(this.counterMap);\n  },\n  methods: {\n    countNum(value) {\n      // console.log(value);\n      const { id } = this.data;\n      const num = this.counterMap[this.data.id];\n\n      if (num === 1 && value === -1 && this.needNum) {\n        this.$emit('noMore', num);\n        return;\n      }\n      this.$store.commit('saveLocalStorage', { id, value });\n\n      if (value === -1 || this.noFly) {\n        return;\n      }\n\n      const { left: imgLeft, top: imgTop } = this.$refs.img.getBoundingClientRect();\n      const { offsetWidth: imgWidth, offsetHeight: imgHeight } = this.$refs.img;\n\n      const shopCar = document.getElementById('shop-car');\n      const { left: carX, top: carY } = shopCar.getBoundingClientRect();\n      const { offsetWidth: carWidth, offsetHeight: carHeight } = shopCar;\n\n      const endX = carX + carWidth / 2;\n      const endY = carY + carHeight / 2;\n\n      Animate({\n        startX: imgLeft,\n        startY: imgTop,\n        endX,\n        endY,\n        src: this.$refs.img.src,\n        width: imgWidth,\n        height: imgHeight,\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n@import url(\"~@/assets/css/card.less\");\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Card.vue?vue&type=template&id=633416f0&\"\nimport script from \"./Card.vue?vue&type=script&lang=js&\"\nexport * from \"./Card.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Card.vue?vue&type=style&index=0&id=633416f0&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=style&index=0&id=79ef76cf&prod&scoped=true&lang=less&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=style&index=0&id=29b162de&prod&scoped=true&lang=less&\""],"sourceRoot":""}