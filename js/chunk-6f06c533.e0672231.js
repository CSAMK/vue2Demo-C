(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f06c533"],{"129d":function(t,i,s){"use strict";s("56f8")},"288d":function(t,i,s){},"29dc":function(t,i,s){"use strict";s("d4d4")},"381e":function(t,i,s){"use strict";s("dc55")},"56f8":function(t,i,s){},"643d":function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t._self._c;return i("div",{attrs:{id:"classify"}},[i("router-link",{staticClass:"serach-btn",attrs:{to:"/search"}},[i("van-icon",{attrs:{name:"search"}}),i("span",[t._v("超甜苹果9.9一个")])],1),i("Onebar",{attrs:{menuList:t.menuList}}),t.$store.state.show?[i("Sidebar"),i("List")]:i("div",{staticClass:"loading-box"},[i("van-loading",{attrs:{color:"#1989fa",size:"60px"}})],1)],2)},n=[],c=function(){var t=this,i=t._self._c;return i("div",{ref:"oneBar",attrs:{id:"oneBar"}},t._l(t.menuList,(function(s,e){return i("div",{key:e,staticClass:"item",class:{active:e===t.index},on:{touchend:function(i){return t.scrollTo(e,i,s)},touchstart:function(i){t.move=!1},touchmove:function(i){t.move=!0}}},[i("div",{staticClass:"img-box"},[i("img",{attrs:{src:s.imgURL}})]),i("div",{staticClass:"title"},[t._v(t._s(s.title))])])})),0)},o=[],a={data(){return{index:0,move:!1}},props:["menuList"],methods:{scrollTo(t,i,s){if(this.move)return;this.index=t;const e=i.target.offsetWidth,n=i.target.getBoundingClientRect().left,{oneBar:c}=this.$refs,o=c.offsetWidth;c.scrollLeft+=e/2+n-o/2,this.$store.dispatch("setSidebar",{type:s.title})}}},r=a,u=(s("65c8"),s("2877")),d=Object(u["a"])(r,c,o,!1,null,"535164d6",null),l=d.exports,g=function(){var t=this,i=t._self._c;return i("div",{ref:"sidebar",attrs:{id:"sidebar"}},t._l(t.sideList,(function(s,e){return i("div",{key:e,staticClass:"item",class:{active:e===t.index},on:{touchend:function(i){return t.scrollTo(e,i,s)},touchstart:function(i){t.move=!1},touchmove:function(i){t.move=!0}}},[t._v(" "+t._s(0===e?"全部":s)+" ")])})),0)},h=[],p={data(){return{index:0,move:!1}},computed:{sideList(){return this.$store.state.sidebar}},methods:{scrollTo(t,i,s){if(this.move)return;this.index=t;const e=i.target.offsetHeight,n=i.target.getBoundingClientRect().top,{sidebar:c}=this.$refs,o=c.offsetTop,a=c.offsetHeight;c.scrollTop+=n+e/2-o-a/2,this.$store.commit("resetGoodsList"),this.$store.dispatch("setGoodsList",{type:s,page:1})}},destroyed(){}},m=p,f=(s("665f"),Object(u["a"])(m,g,h,!1,null,null,null)),y=f.exports,b=function(){var t=this,i=t._self._c;return i("div",{attrs:{id:"list"}},[i("div",{staticClass:"header van-hairline--top-bottom"},[i("span",{class:{active:"all"===t.type},on:{click:function(i){return t.changeType("all")}}},[t._v("综合")]),i("span",{class:{active:"sale"===t.type},on:{click:function(i){return t.changeType("sale")}}},[t._v("销量")]),i("span",{staticClass:"price",class:{"price-up":"price-up"===t.type,"price-down":"price-down"===t.type},on:{click:function(i){return t.changeType("price")}}},[t._v("价格")])]),i("div",{staticClass:"list-container"},[i("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(i){t.refreshing=i},expression:"refreshing"}},[i("van-list",{attrs:{finished:t.finished,"finished-text":t.msg,"immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},[t._l(t.$store.state.goodsList,(function(t,s){return[i("Card",{key:s,attrs:{data:t}})]}))],2)],1)],1)])},v=[],j=s("ae8d"),L={data(){return{type:"all",loading:!1,finished:!1,refreshing:!1,page:1,msg:"上拉查看下一个分类"}},components:{Card:j["a"]},watch:{"$store.state.goodsList":function(t){t.length>=this.$store.state.total?(this.finished=!0,this.page=1):this.finished=!1}},methods:{onLoad(){this.page+=1,this.$store.dispatch("setGoodsList",{page:this.page}),this.loading=!1},async onRefresh(){this.page=1,this.$store.commit("resetGoodsList"),await this.$store.dispatch("setGoodsList",{page:this.page,sort:this.type}),this.refreshing=!1,this.loading=!1},changeType(t){"price"===t?"price-up"===this.type?this.type="price-down":this.type="price-up":this.type=t,this.onRefresh()}}},k=L,_=(s("cb96"),Object(u["a"])(k,b,v,!1,null,null,null)),x=_.exports,R=s("2f62"),C={components:{Onebar:l,Sidebar:y,List:x},data(){return{menuList:[{title:"时令水果",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/时令水果.jpg"},{title:"酒水冲调",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/酒水冲调.jpg"},{title:"安心乳品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/安心乳品.jpg"},{title:"休闲零食",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/休闲零食.jpg"},{title:"肉蛋食材",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/肉蛋食材.jpg"},{title:"新鲜蔬菜",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/新鲜食材.jpg"},{title:"熟食餐饮",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/熟食餐饮.jpg"},{title:"海鲜水产",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/海鲜水产.jpg"},{title:"粮油调味",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/粮油调味.jpg"},{title:"某手美食",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/某手美食.jpg"},{title:"纸杯清洁",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/纸品清洁.jpg"},{title:"个人护理",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/个人护理.jpg"},{title:"美妆护肤",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/美妆护肤.jpg"},{title:"家居收纳",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/家居收纳.jpg"},{title:"家用电器",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/家用电器.jpg"},{title:"3C数码",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/3C数码.jpg"},{title:"母婴用品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/母婴用品.jpg"},{title:"鲜花绿植",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/鲜花绿植.jpg"},{title:"宠物用品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/宠物用品.jpg"},{title:"图书玩具",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/图书文具.jpg"},{title:"手表配饰",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/手表配饰.jpg"}]}},mounted(){this.$store.dispatch("setSidebar",{type:"时令水果"})},computed:{...Object(R["b"])(["show"])},watch:{show(){this.show&&(this.$store.commit("resetGoodsList"),this.$store.dispatch("setGoodsList",{type:this.$store.state.sidebar[0],page:1}))}},destroyed(){}},$=C,w=(s("29dc"),Object(u["a"])($,e,n,!1,null,null,null));i["default"]=w.exports},"65c8":function(t,i,s){"use strict";s("b360")},"665f":function(t,i,s){"use strict";s("83d1")},"83d1":function(t,i,s){},ae8d:function(t,i,s){"use strict";var e=function(){var t=this,i=t._self._c;return i("div",{attrs:{id:"card"}},[i("div",{staticClass:"card-img"},[i("img",{ref:"img",attrs:{src:t.data.images[0]}})]),i("div",{staticClass:"card-content"},[i("div",{staticClass:"title van-ellipsis"},[t._v(t._s(t.data.title))]),i("div",{staticClass:"desc van-ellipsis"},[t._v(t._s(t.data.desc))]),i("div",{staticClass:"tags van-ellipsis"},t._l(t.data.tags,(function(s,e){return i("div",{key:e,staticClass:"tags-item"},[t._v(" "+t._s(s)+" ")])})),0),i("div",{staticClass:"price"},[t._v("￥"+t._s(t.data.price))]),i("div",{staticClass:"count"},[t.counterMap[t.data.id]?i("div",{on:{click:function(i){return t.countNum(-1)}}},[i("img",{attrs:{src:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/rec.png",alt:""}})]):t._e(),t.counterMap[t.data.id]?i("div",{staticClass:"num"},[t._v(" "+t._s(t.counterMap[t.data.id])+" ")]):t._e(),i("div",{on:{click:function(i){return t.countNum(1)}}},[i("img",{attrs:{src:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/add.png",alt:""}})])])])])},n=[],c=s("2f62"),o=s("2b0e"),a=function(){var t=this,i=t._self._c;return t.exist?i("div",{style:{width:t.width+"px",height:t.height+"px",opacity:t.opacity,transform:`translate(${t.moveX}px, ${t.moveY}px) scale(${t.sx},${t.sy})`},attrs:{id:"item"}},[i("img",{attrs:{src:t.src,alt:""}})]):t._e()},r=[],u={},d=u,l=(s("129d"),s("2877")),g=Object(l["a"])(d,a,r,!1,null,"f8e6bbe8",null),h=g.exports;const p=o["a"].extend(h);var m=function({startX:t,startY:i,endX:s,endY:e,src:n,width:c,height:o}){const a=new p({el:document.createElement("div"),data(){return{moveX:t,moveY:i,sx:1,sy:1,opacity:1,exist:!0,src:n,width:c,height:o}}});document.body.appendChild(a.$el),setTimeout(()=>{a.moveX=s,a.moveY=e,a.sx=.1,a.sy=.1,a.opacity=0},0),setTimeout(()=>{a.exist=!1},1100)},f={props:["data","noFly","needNum"],data(){return{}},computed:{...Object(c["b"])(["counterMap"])},created(){},methods:{countNum(t){const{id:i}=this.data,s=this.counterMap[this.data.id];if(1===s&&-1===t&&this.needNum)return void this.$emit("noMore",s);if(this.$store.commit("saveLocalStorage",{id:i,value:t}),-1===t||this.noFly)return;const{left:e,top:n}=this.$refs.img.getBoundingClientRect(),{offsetWidth:c,offsetHeight:o}=this.$refs.img,a=document.getElementById("shop-car"),{left:r,top:u}=a.getBoundingClientRect(),{offsetWidth:d,offsetHeight:l}=a,g=r+d/2,h=u+l/2;m({startX:e,startY:n,endX:g,endY:h,src:this.$refs.img.src,width:c,height:o})}}},y=f,b=(s("381e"),Object(l["a"])(y,e,n,!1,null,null,null));i["a"]=b.exports},b360:function(t,i,s){},cb96:function(t,i,s){"use strict";s("288d")},d4d4:function(t,i,s){},dc55:function(t,i,s){}}]);
//# sourceMappingURL=chunk-6f06c533.e0672231.js.map